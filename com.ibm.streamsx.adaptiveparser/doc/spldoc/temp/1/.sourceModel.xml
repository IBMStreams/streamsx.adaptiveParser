<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<srcCode:sourceModel xmlns:srcCode="http://www.ibm.com/xmlns/prod/streams/spl/sourceCode" xmlns:common="http://www.ibm.com/xmlns/prod/streams/spl/common" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <srcCode:sourceFile uri="com.ibm.streamsx.adaptiveparser.clf/Types.spl">
    <srcCode:compilationUnit>
      <srcCode:splNamespace column="10" line="1" name="com.ibm.streamsx.adaptiveparser.clf"/>
      <srcCode:definitions>
        <srcCode:typeDefinition endColumn="138" endLine="3" name="CLFEvent_t" startColumn="1" startLine="3" value="rstring clientIp, rstring clientId, rstring userId, timestamp ts, rstring clientRequest, uint16 statusCode, uint16 size"/>
      </srcCode:definitions>
    </srcCode:compilationUnit>
  </srcCode:sourceFile>

  <srcCode:sourceFile uri="com.ibm.streamsx.adaptiveparser.clf/CLFParser.spl">
    <srcCode:compilationUnit>
      <srcCode:splNamespace column="10" line="1" name="com.ibm.streamsx.adaptiveparser.clf"/>
      <srcCode:useDirectives>
        <srcCode:useDirective column="5" line="3" namespaceName="com.ibm.streamsx.adaptiveparser" tail="::*"/>
      </srcCode:useDirectives>
      <srcCode:definitions>
        <srcCode:compositeDefinition endColumn="1" endLine="26" startColumn="1" startLine="13">
          <srcCode:compositeHead column="1" line="13" name="CLFParser">
            <srcCode:modifiers>
              <srcCode:modifier name="public"/>
            </srcCode:modifiers>
            <srcCode:inputs>
              <srcCode:iport column="34" index="0" line="13" name="RawData"/>
            </srcCode:inputs>
            <srcCode:outputs>
              <srcCode:oport column="50" index="0" line="13" name="LogEvent"/>
            </srcCode:outputs>
          </srcCode:compositeHead>
          <srcCode:compositeBody>
            <srcCode:parameters>
              <srcCode:parameter column="13" line="15" name="$dataAttr">
                <srcCode:expressionMode mode="attribute"/>
              </srcCode:parameter>
              <srcCode:parameter column="23" defaultValue="false;" line="16" name="$batch">
                <srcCode:expressionMode mode="expression" type="boolean"/>
              </srcCode:parameter>
            </srcCode:parameters>
            <srcCode:graph>
              <srcCode:operatorInvocation>
                <srcCode:operatorInvocationHead column="33" line="18" operatorName="AdaptiveParser">
                  <srcCode:outputs>
                    <srcCode:output column="22" index="0" line="18" streamName="LogEvent" type="CLFEvent_t"/>
                  </srcCode:outputs>
                  <srcCode:inputs>
                    <srcCode:input column="48" index="0" line="18">
                      <srcCode:istream column="48" line="18" name="RawData"/>
                    </srcCode:input>
                  </srcCode:inputs>
                </srcCode:operatorInvocationHead>
                <srcCode:operatorInvocationBody>
                  <srcCode:parameters>
                    <srcCode:parameter column="5" line="20" name="undefined">
                      <srcCode:value expr="&quot;-&quot;"/>
                    </srcCode:parameter>
                  </srcCode:parameters>
                  <srcCode:outputAssignments>
                    <srcCode:outputAssignment column="11" line="22" portName="LogEvent">
                      <srcCode:attributeAssignment column="5" line="23" name="ts" outputFunction="Param">
                        <srcCode:value expr="{prefix = &quot;[&quot;, suffix = &quot;]&quot;, tsFormat = &quot;%d/%b/%Y:%H:%M:%S %z&quot;}"/>
                      </srcCode:attributeAssignment>
                      <srcCode:attributeAssignment column="5" line="24" name="clientRequest" outputFunction="Param">
                        <srcCode:value expr="{quotedStrings = true}"/>
                      </srcCode:attributeAssignment>
                    </srcCode:outputAssignment>
                  </srcCode:outputAssignments>
                </srcCode:operatorInvocationBody>
              </srcCode:operatorInvocation>
            </srcCode:graph>
          </srcCode:compositeBody>
        </srcCode:compositeDefinition>
      </srcCode:definitions>
    </srcCode:compilationUnit>
  </srcCode:sourceFile>

</srcCode:sourceModel>
